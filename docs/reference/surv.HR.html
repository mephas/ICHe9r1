<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Estimating the hazard ratio under ICH E9 (R1) — surv.HR • ICHe9r1</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Estimating the hazard ratio under ICH E9 (R1) — surv.HR"><meta property="og:description" content="This function estimates the hazard ratio
for time-to event data under ICH E9 (R1) to address intercurrent events. Multiple
strategies except the principal stratum strategy are allowed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ICHe9r1</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/ICHer91.html">ICHer91</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimating the hazard ratio under ICH E9 (R1)</h1>

    <div class="hidden name"><code>surv.HR.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function estimates the hazard ratio
for time-to event data under ICH E9 (R1) to address intercurrent events. Multiple
strategies except the principal stratum strategy are allowed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">surv.HR</span><span class="op">(</span></span>
<span>  <span class="va">A</span>,</span>
<span>  <span class="va">Time</span>,</span>
<span>  <span class="va">cstatus</span>,</span>
<span>  strategy <span class="op">=</span> <span class="st">"composite"</span>,</span>
<span>  cov1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  conf.int <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  subset <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-a">A<a class="anchor" aria-label="anchor" href="#arg-a"></a></dt>
<dd><p>Treatment indicator, 1 for treatment and 0 for control.</p></dd>


<dt id="arg-time">Time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Time to event.</p></dd>


<dt id="arg-cstatus">cstatus<a class="anchor" aria-label="anchor" href="#arg-cstatus"></a></dt>
<dd><p>Indicator of event, 1 for the primary event, 2 for the intercurrent event, 0 for censoring.</p></dd>


<dt id="arg-strategy">strategy<a class="anchor" aria-label="anchor" href="#arg-strategy"></a></dt>
<dd><p>Strategy to address intercurrent events, <code>"treatment"</code> indicating treatment policy strategy,
<code>"composite"</code> indicating composite variable strategy, <code>"natural"</code> indicating hypothetical strategy
(Scenario I, controlling the hazard of intercurrent events), <code>"removed"</code> indicating hypothetical strategy
(Scenario II, removing intercurrent events), and <code>"whileon"</code> indicating while on treatment strategy.</p></dd>


<dt id="arg-cov-">cov1<a class="anchor" aria-label="anchor" href="#arg-cov-"></a></dt>
<dd><p>Baseline covariates.</p></dd>


<dt id="arg-conf-int">conf.int<a class="anchor" aria-label="anchor" href="#arg-conf-int"></a></dt>
<dd><p>Level of the confidence interval.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Weight for each subject (not applied to the while on treatment strategy).</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>Subset, either numerical or logical.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list including</p><dl><dt>logHR</dt>
<dd><p>Estimated log hazard ratio (logHR) of the treatment effect on the primary event.</p></dd>

<dt>se</dt>
<dd><p>Standard error of the estimated log hazard ratio (logHR).</p></dd>

<dt>CI</dt>
<dd><p>Confidence interval of the hazard ratio (HR).</p></dd>

<dt>p.val</dt>
<dd><p>P value of the hazard ratio.</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>

<dl>
For the treatment policy and hypothetical strategies, the hazard ratio (HR) is given by the Cox
regression regarding intercurrent events as censoring. For the composite variable strategy, the
hazard ratio is given by the the Cox regression regarding the first occurrence of either intercurrent
event or primary event as the event of interest. For the while on treatment strategy, the hazard
ratio is given by the Fine-Gray subdistribution model. There is no existing method to estimate the
hazard ratio using principal stratum strategy. \cr
The weakness of using hazard ratio to infer treatment effects is critical. First, the hazard ratio
relies on model specification. Second, the hazard ratio is not collapsible. Therefore, the hazard
ratio should only be treated as a descriptive or exploratory measure of the treatment effect.

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="surv.ICH.html">surv.ICH</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Generate simulated data</span></span></span>
<span class="r-in"><span><span class="co">## dat = .generatedata(500)</span></span></span>
<span class="r-in"><span><span class="co">## composite variable strategy</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">=</span> <span class="fu">surv.HR</span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Z</span>, <span class="va">dat</span><span class="op">$</span><span class="va">Time</span>, <span class="va">dat</span><span class="op">$</span><span class="va">cstatus</span>, <span class="st">"composite"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## while on treatment strategy</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">=</span> <span class="fu">surv.HR</span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">Z</span>, <span class="va">dat</span><span class="op">$</span><span class="va">Time</span>, <span class="va">dat</span><span class="op">$</span><span class="va">cstatus</span>, <span class="st">"whileon"</span>, cov1<span class="op">=</span><span class="va">dat</span><span class="op">$</span><span class="va">X</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jane Doe.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

